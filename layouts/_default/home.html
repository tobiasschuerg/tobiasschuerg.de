{{ define "main" }}
<h1>{{ .Title }}</h1>

<!-- Display intro text first -->
{{ if eq .Site.Language.Lang "de" }}
<p>Eine Sammlung privater Side-Projects.</p>
{{ else }}
<p>A collection of side projects.</p>
{{ end }}

<!-- Display projects as cards -->
<div class="project-grid">
  {{ $projects := where .Site.RegularPages "Section" "projects" }}
  {{ range sort $projects ".Params.weight" }}
    <div class="project-card">
      <h3>{{ .Title }}</h3>
      
      <!-- Project description based on language -->
      {{ if .Params.description }}
        {{ if eq $.Site.Language.Lang "de" }}
          {{ if .Params.description.de }}
            <p>{{ .Params.description.de }}</p>
          {{ end }}
        {{ else }}
          {{ if .Params.description.en }}
            <p>{{ .Params.description.en }}</p>
          {{ end }}
        {{ end }}
      {{ end }}
      
      <!-- Project links -->
      {{ if .Params.links }}
        <div class="project-links">
          {{ range .Params.links }}
            <a href="{{ .url }}"{{ if .primary }} class="primary-link"{{ end }}>
              {{ if eq $.Site.Language.Lang "de" }}
                {{ .text.de }}
              {{ else }}
                {{ .text.en }}
              {{ end }}
            </a>
          {{ end }}
        </div>
      {{ end }}
    </div>
  {{ end }}
</div>

{{ end }}
